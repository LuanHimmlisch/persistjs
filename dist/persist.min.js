(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}var t,i;t="persistjs",i={page:window.location.pathname,storage:JSON.parse(localStorage.getItem(t)),elements:document.querySelectorAll("[data-persist]"),init:function(){var e=this;this.storage||(this.storage={}),this.storage[this.page]||(this.storage[this.page]={},this.elements.length>0&&this.save()),this.check(),Object.keys(this.elements).forEach((function(t){var i=e.elements[t];i.addEventListener("change",(function(){e.store(i),e.save()}))}))},store:function(t){var i,n=this.__getElementId(t),s=(new Date).getTime(),o=e(null!==(i=t.dataset["persist-expires"])&&void 0!==i?i:null)===e(0)?t.dataset["persist-expires"]:3e5;this.storage[this.page][n]={value:t.value,expires:s+o}},update:function(e){var t,i,n=(new Date).getTime(),s=this.__getElementId(e),o=null!==(t=this.storage[this.page][s])&&void 0!==t?t:null;if(o&&n<o.expires&&""!==o.value&&null!==o.value)if("livewire"===e.dataset.persist){if(!window.Livewire)return void console.error("Persist: Livewire is not loaded");for(var r=null!==(i=null==e?void 0:e.name)&&void 0!==i?i:null==e?void 0:e.id,a=0;a<e.attributes.length;a++){var l=e.attributes.item(a);if(l.nodeName.startsWith("wire:model")){r=l.value;break}}var u=e.closest("[wire\\:id]").getAttribute("wire:id"),d=Livewire.components.componentsById[u];d?setTimeout((function(){e.value=o.value,d.set(r,o.value)}),100):console.error("Persist: cannot load data. Couldn't load Livewire '".concat(u,"' component"))}else e.value=o.value;e.dispatchEvent(new Event("input"))},check:function(){var e=this;Object.keys(this.elements).forEach((function(t){var i=e.elements[t];e.update(i)}))},save:function(){localStorage.setItem(t,JSON.stringify(this.storage))},flush:function(){this.delete(this.page)},delete:function(e){this.storage[e]={},this.save()},__getElementId:function(e){var t,i,n=null!==(t=null!==(i=e.dataset["persist-id"])&&void 0!==i?i:e.id)&&void 0!==t?t:null;if(!n)throw new Error("Inputs should have an `id` or `data-persist-id` attributes");return n}},window.addEventListener("load",(function(){return i.init()})),window.Persist=i})();